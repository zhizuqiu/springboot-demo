<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hello, Bootstrap Table!</title>

    <link rel="stylesheet" href="js/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="js/bootstrap-table/bootstrap-table.min.css">
</head>
<body>

<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <table id="table"></table>
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label class="col-sm-2 control-label">userName</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="userName"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">passWord</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="passWord"/>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">realName</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="realName"/>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button id="submitBtn" type="button" class="btn btn-default btn-primary">提交</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<script src="js/jquery/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap/js/bootstrap.min.js"></script>
<script src="js/bootstrap-table/bootstrap-table.min.js"></script>

<script type="text/javascript">
    $(function () {
        $('#table').bootstrapTable({
            url: 'testBoot/getAllUser',
            columns: [{
                field: 'passWord',
                title: 'passWord'
            }, {
                field: 'realName',
                title: 'realName'
            }, {
                field: 'userName',
                title: 'userName'
            }]
        });

        $('#submitBtn').click(function () {
            if (!$('#passWord').val() || !$('#realName').val() || !$('#userName').val()) {
                alert('输入不能为空');
                return
            }
            $.ajax({
                url: "testBoot/addUser",
                type: 'post',
                contentType: "application/json",
                data: JSON.stringify({
                    "passWord": $('#passWord').val(),
                    "realName": $('#realName').val(),
                    "userName": $('#userName').val(),
                }),
                success: function () {
                    alert("提交成功");
                    $('#table').bootstrapTable('refresh');
                }
            });
        });

    });
</script>
</body>
</html>